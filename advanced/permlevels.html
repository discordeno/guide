<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Permission Levels! | Discordeno</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/favicon.png">
    <meta name="description" content="Docs for Discordeno">
    <meta name="theme-color" content="#7289DA">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="og:title" content="Discordeno">
    <meta name="og:description" content="Docs for Discordeno">
    <meta name="og:type" content="website">
    <meta name="og:url" content="https://discordeno.mod.land">
    <meta name="og:image" content="/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.1ace810b.css" as="style"><link rel="preload" href="/assets/js/app.aaff8819.js" as="script"><link rel="preload" href="/assets/js/2.249f7f8d.js" as="script"><link rel="preload" href="/assets/js/14.3a6e6256.js" as="script"><link rel="prefetch" href="/assets/js/10.7e3e75ea.js"><link rel="prefetch" href="/assets/js/11.070d4f02.js"><link rel="prefetch" href="/assets/js/12.68e83f77.js"><link rel="prefetch" href="/assets/js/13.5bbe5518.js"><link rel="prefetch" href="/assets/js/15.1eeda6a0.js"><link rel="prefetch" href="/assets/js/16.a51d5574.js"><link rel="prefetch" href="/assets/js/17.8c103126.js"><link rel="prefetch" href="/assets/js/18.90256cf6.js"><link rel="prefetch" href="/assets/js/19.a2ebbb7a.js"><link rel="prefetch" href="/assets/js/20.67545e07.js"><link rel="prefetch" href="/assets/js/21.f122ed57.js"><link rel="prefetch" href="/assets/js/22.eb98d442.js"><link rel="prefetch" href="/assets/js/23.531e8e7a.js"><link rel="prefetch" href="/assets/js/24.8a4cbd96.js"><link rel="prefetch" href="/assets/js/25.ff4ef4c9.js"><link rel="prefetch" href="/assets/js/26.be5f94f6.js"><link rel="prefetch" href="/assets/js/27.aee32ec8.js"><link rel="prefetch" href="/assets/js/28.d77bef13.js"><link rel="prefetch" href="/assets/js/29.8ef7a965.js"><link rel="prefetch" href="/assets/js/3.c9559675.js"><link rel="prefetch" href="/assets/js/30.bec72ff0.js"><link rel="prefetch" href="/assets/js/31.0bab0393.js"><link rel="prefetch" href="/assets/js/32.124622eb.js"><link rel="prefetch" href="/assets/js/4.f8ce14f4.js"><link rel="prefetch" href="/assets/js/5.dfbc315f.js"><link rel="prefetch" href="/assets/js/6.583250aa.js"><link rel="prefetch" href="/assets/js/7.f07480fc.js"><link rel="prefetch" href="/assets/js/8.b433b0bc.js"><link rel="prefetch" href="/assets/js/9.2e08797d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1ace810b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Discordeno</span></a> <div class="links"><!----> <div class="user-settings"><a href="#" class="settings-button"><svg aria-hidden="true" data-prefix="fas" data-icon="cog" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-cog fa-w-16 settings-icon"><path fill="currentColor" d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"></path></svg></a> <div class="user-settings-menu" style="display:none;"><div class="theme-options"><!----> <!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox"></div> <!----> <!----></div></div></div> <!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://doc.deno.land/https/deno.land/x/discordeno/mod.ts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://discord.gg/5vBgXk3UcZ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/discordeno/guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://doc.deno.land/https/deno.land/x/discordeno/mod.ts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://discord.gg/5vBgXk3UcZ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/discordeno/guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Home</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Big Bots Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Step By Step Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Advanced Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/advanced/" aria-current="page" class="sidebar-link">Advanced Guide</a></li><li><a href="/advanced/arguments.html" class="sidebar-link">Command Arguments</a></li><li><a href="/advanced/collectors.html" class="sidebar-link">Message And Reaction Collectors!</a></li><li><a href="/advanced/customizations.html" class="sidebar-link">Customizing Discordeno</a></li><li><a href="/advanced/dockerhosting.html" class="sidebar-link">Docker Hosting</a></li><li><a href="/advanced/dynamiccommands.html" class="sidebar-link">Dynamic Command Creation!</a></li><li><a href="/advanced/permlevels.html" aria-current="page" class="active sidebar-link">Permission Levels!</a></li><li><a href="/advanced/subcommands.html" class="sidebar-link">Subcommands Inside Subcommands!</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="permission-levels"><a href="#permission-levels" class="header-anchor">#</a> Permission Levels!</h1> <p>Permission levels is a really cool concept that will let you easily control
which users can use your commands. For example, if you have commands like <code>warn</code>
or <code>ban</code>, you only want users that are Moderators or Admins of a server to be
able to use these commands. By default, a command is set so any member can use
the command. To raise the requirement, you can use Permission Levels.</p> <h2 id="default-permission-levels"><a href="#default-permission-levels" class="header-anchor">#</a> Default Permission Levels</h2> <p>The default permission levels can be found in the <code>src/permissionLevels</code> folder.</p> <ul><li><code>MEMBER</code> Anyone can use this command.</li> <li><code>MODERATOR</code> User needs <strong>MANAGE SERVER</strong> permission in order to use this
command</li> <li><code>ADMIN</code> User needs <strong>ADMINISTRATOR</strong> permission in order to use this command.</li> <li><code>SERVER_OWNER</code> Only a <strong>SERVER OWNER</strong> can use this command in their server.</li> <li><code>BOT_SUPPORT</code> Requires the user ID be present in
<strong>configs.userIDs.botSupporters</strong></li> <li><code>BOT_DEVS</code> Requires the user ID be present in <strong>configs.userIDs.botDevs</strong></li> <li><code>BOT_OWNERS</code> Requires the user ID be present in <strong>configs.userIDs.botOwners</strong></li></ul> <p>Any of these can be easily modified, in their files. Let's go ahead and try and
modify one of the permission levels as an example.</p> <h2 id="modifying-existing-permission-levels"><a href="#modifying-existing-permission-levels" class="header-anchor">#</a> Modifying Existing Permission Levels</h2> <p>If you have a bot support server, you might also have a role setup for your
bot's support team. So to make life easier, it would be nice if someone with
that role could use the command without having to modify the configs file every
time.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> botCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../deps.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PermissionLevels <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../types/commands.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> configs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../configs.ts&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// The member using the command must be one of the bots support team</span>
botCache<span class="token punctuation">.</span>permissionLevels<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>
  PermissionLevels<span class="token punctuation">.</span><span class="token constant">BOT_SUPPORT</span><span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> configs<span class="token punctuation">.</span>userIDs<span class="token punctuation">.</span>botSupporters<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Let's add some pseudo-code first.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>botCache<span class="token punctuation">.</span>permissionLevels<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>
  PermissionLevels<span class="token punctuation">.</span><span class="token constant">BOT_SUPPORT</span><span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// If the user id exists in the configs allow the command</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>configs<span class="token punctuation">.</span>userIDs<span class="token punctuation">.</span>botSupporters<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token comment">// The users id was not in the configs, check if they have the role in bot server</span>

    <span class="token comment">// Get the bots support server</span>

    <span class="token comment">// If the user is not a member of the support server they can't be one of the support staff.</span>

    <span class="token comment">// If they have the role allow the command otherwise it will be false and block the command.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Awesome, now that the plan is in place, let's add the code.</p> <div class="language-ts extra-class"><pre class="language-ts"><code>botCache<span class="token punctuation">.</span>permissionLevels<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>
  PermissionLevels<span class="token punctuation">.</span><span class="token constant">BOT_SUPPORT</span><span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// If the user id exists in the configs allow the command</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>configs<span class="token punctuation">.</span>userIDs<span class="token punctuation">.</span>botSupporters<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token comment">// The users id was not in the configs, check if they have the role in bot server</span>

    <span class="token comment">// Get the bots support server</span>
    <span class="token keyword">const</span> guild <span class="token operator">=</span> cache<span class="token punctuation">.</span>guilds<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>configs<span class="token punctuation">.</span>supportServerID<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>guild<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token comment">// If the user is not a member of the support server they can't be one of the support staff.</span>
    <span class="token keyword">const</span> member <span class="token operator">=</span> guild<span class="token punctuation">.</span>members<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>member<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token comment">// If they have the role allow the command otherwise it will be false and block the command.</span>
    <span class="token keyword">return</span> member<span class="token punctuation">.</span>roles<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;BOT_SUPPORT_ROLE_ID_HERE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Awesome. You just managed to modify one of the existing permission levels. But
what if we wanted to create our own custom permission level. Let's do that next.</p> <h2 id="creating-a-permission-level"><a href="#creating-a-permission-level" class="header-anchor">#</a> Creating A Permission Level</h2> <p>Let's create a permission level for the purposes of this guide so we can learn
how to create one. For example, let's say we wanted a permission level for users
that have boosted the server. We want it to check if the user has a role called
Nitro Booster.</p> <p>First, we need to update the Permission Levels enum in <code>src/types/commands.ts</code>.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">enum</span> PermissionLevels <span class="token punctuation">{</span>
  <span class="token constant">MEMBER</span><span class="token punctuation">,</span>
  <span class="token constant">MODERATOR</span><span class="token punctuation">,</span>
  <span class="token constant">ADMIN</span><span class="token punctuation">,</span>
  <span class="token constant">SERVER_OWNER</span><span class="token punctuation">,</span>
  <span class="token constant">BOT_SUPPORT</span><span class="token punctuation">,</span>
  <span class="token constant">BOT_DEVS</span><span class="token punctuation">,</span>
  <span class="token constant">BOT_OWNER</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Let's add a new one for a Nitro Booster role. You can add it in any order here
you like. The specific order does not matter.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">enum</span> PermissionLevels <span class="token punctuation">{</span>
  <span class="token constant">MEMBER</span><span class="token punctuation">,</span>
  <span class="token constant">NITRO_BOOSTER</span><span class="token punctuation">,</span>
  <span class="token constant">MODERATOR</span><span class="token punctuation">,</span>
  <span class="token constant">ADMIN</span><span class="token punctuation">,</span>
  <span class="token constant">SERVER_OWNER</span><span class="token punctuation">,</span>
  <span class="token constant">BOT_SUPPORT</span><span class="token punctuation">,</span>
  <span class="token constant">BOT_DEVS</span><span class="token punctuation">,</span>
  <span class="token constant">BOT_OWNER</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Once that's done, we can go and create the code for it. Now, lets create a new
file in <code>permissionLevels</code> folder called <code>booster.ts</code> and paste the base snippet
for a permission level below.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> botCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../deps.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PermissionLevels <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../types/commands.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> configs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../configs.ts&quot;</span><span class="token punctuation">;</span>

botCache<span class="token punctuation">.</span>permissionLevels<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>
  PermissionLevels<span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Code goes here</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p><strong>NOTE:</strong> You will see an error in the <code>PermissionLevels,</code> line because we
need to select one of the permission levels. In this case we want the
NITRO_BOOSTER level we just created above.</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code>PermissionLevels<span class="token punctuation">.</span><span class="token constant">NITRO_BOOSTER</span><span class="token punctuation">;</span>
</code></pre></div><p>Next we can add the code in place.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> botCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../deps.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PermissionLevels <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../types/commands.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> configs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../configs.ts&quot;</span><span class="token punctuation">;</span>

botCache<span class="token punctuation">.</span>permissionLevels<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>
  PermissionLevels<span class="token punctuation">.</span><span class="token constant">NITRO_BOOSTER</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> guild <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">guild</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>guild<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> member <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">member</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>member<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> boosterRole <span class="token operator">=</span> guild<span class="token punctuation">.</span>roles<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>role<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      role<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;nitro booster&quot;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>boosterRole<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> member<span class="token punctuation">.</span>roles<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>boosterRole<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Awesome! You just created your very own permission level. Now let's check out
how to use permission levels.</p> <h2 id="using-permission-levels"><a href="#using-permission-levels" class="header-anchor">#</a> Using Permission Levels</h2> <p>There are two ways to use permission levels. You can provide an array of
PermissionLevels or you can provide a custom function.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">createCommand</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">reload</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  permissionLevels<span class="token operator">:</span> <span class="token punctuation">[</span>PermissionLevels<span class="token punctuation">.</span><span class="token constant">BOT_OWNER</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  botChannelPermissions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;SEND_MESSAGES&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><p>As an example the <code>reload</code> command requires the user to be a bot owner to use
this command.</p> <p><strong>ONLY ONE LEVEL IS NECESSARY TO ALLOW THE COMMAND.</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token punctuation">[</span>PermissionLevels<span class="token punctuation">.</span><span class="token constant">MODERATOR</span><span class="token punctuation">,</span> PermissionLevels<span class="token punctuation">.</span><span class="token constant">ADMIN</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>If you provide an array of permission levels, only one of these is necessary to
run the command. For example, if the user passes MODERATOR, they do not need
ADMIN to run it.</p> <h3 id="advanced-perm-levels"><a href="#advanced-perm-levels" class="header-anchor">#</a> Advanced Perm Levels</h3> <p>There is another way to use permission levels. You can provide a custom function
that must return a boolean. For example,</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">createCommand</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">example</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token function-variable function">permissionLevels</span><span class="token operator">:</span> <span class="token punctuation">(</span>message<span class="token punctuation">,</span> command<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// Anything you'd like to check here and return a boolean. Must return true or false.</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
  botChannelPermissions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;SEND_MESSAGES&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><p>The function is able to take 2 arguments. <code>message</code>, <code>command</code>.</p> <p>You can use an async function if you like as well.</p> <hr> <p>Permission levels are an extremely powerful feature that can help make creating
bots a lot easier. Discordeno provides extremely flexible permission levels. As
a side benefit, Permission Levels are designed to be hot reloadable from the
reload command. 🎉</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/discordeno/guide/edit/main/src/advanced/permlevels.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/1/2022, 2:41:05 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/advanced/dynamiccommands.html" class="prev">
        Dynamic Command Creation!
      </a></span> <span class="next"><a href="/advanced/subcommands.html">
        Subcommands Inside Subcommands!
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.aaff8819.js" defer></script><script src="/assets/js/2.249f7f8d.js" defer></script><script src="/assets/js/14.3a6e6256.js" defer></script>
  </body>
</html>
