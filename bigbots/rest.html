<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Step 1: Creating A Standalone REST Process | Discordeno</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.png">
    <meta name="description" content="Docs for Discordeno">
    <meta name="theme-color" content="#7289DA">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="og:title" content="Discordeno">
    <meta name="og:description" content="Docs for Discordeno">
    <meta name="og:type" content="website">
    <meta name="og:url" content="https://discordeno.mod.land">
    <meta name="og:image" content="/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.1ace810b.css" as="style"><link rel="preload" href="/assets/js/app.bc141364.js" as="script"><link rel="preload" href="/assets/js/2.92552348.js" as="script"><link rel="preload" href="/assets/js/20.efe9afa2.js" as="script"><link rel="prefetch" href="/assets/js/10.9c068ad3.js"><link rel="prefetch" href="/assets/js/11.71a65321.js"><link rel="prefetch" href="/assets/js/12.8d5abe65.js"><link rel="prefetch" href="/assets/js/13.cc80950c.js"><link rel="prefetch" href="/assets/js/14.cdfa1e0a.js"><link rel="prefetch" href="/assets/js/15.26e5d5fb.js"><link rel="prefetch" href="/assets/js/16.584a1d3b.js"><link rel="prefetch" href="/assets/js/17.0e6a7823.js"><link rel="prefetch" href="/assets/js/18.ea90f6fa.js"><link rel="prefetch" href="/assets/js/19.4fd13301.js"><link rel="prefetch" href="/assets/js/21.67406029.js"><link rel="prefetch" href="/assets/js/22.e143dd98.js"><link rel="prefetch" href="/assets/js/23.5f44fd1a.js"><link rel="prefetch" href="/assets/js/24.90b984c4.js"><link rel="prefetch" href="/assets/js/25.820e8434.js"><link rel="prefetch" href="/assets/js/26.9634f9f8.js"><link rel="prefetch" href="/assets/js/27.5abde80d.js"><link rel="prefetch" href="/assets/js/28.7b500ac6.js"><link rel="prefetch" href="/assets/js/29.72514780.js"><link rel="prefetch" href="/assets/js/3.83ec0db1.js"><link rel="prefetch" href="/assets/js/30.18e8c76d.js"><link rel="prefetch" href="/assets/js/31.46ece116.js"><link rel="prefetch" href="/assets/js/32.12fbd1c1.js"><link rel="prefetch" href="/assets/js/4.467b809f.js"><link rel="prefetch" href="/assets/js/5.21a988cb.js"><link rel="prefetch" href="/assets/js/6.1102e6bd.js"><link rel="prefetch" href="/assets/js/7.ea2f4aba.js"><link rel="prefetch" href="/assets/js/8.ea604a9c.js"><link rel="prefetch" href="/assets/js/9.4be16aab.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1ace810b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Discordeno</span></a> <div class="links"><!----> <div class="user-settings"><a href="#" class="settings-button"><svg aria-hidden="true" data-prefix="fas" data-icon="cog" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-cog fa-w-16 settings-icon"><path fill="currentColor" d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"></path></svg></a> <div class="user-settings-menu" style="display:none;"><div class="theme-options"><!----> <!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox"></div> <!----> <!----></div></div></div> <!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://doc.deno.land/https/deno.land/x/discordeno/mod.ts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://discord.gg/5vBgXk3UcZ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/discordeno/guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://doc.deno.land/https/deno.land/x/discordeno/mod.ts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://discord.gg/5vBgXk3UcZ" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/discordeno/guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Home</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Big Bots Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigbots/" aria-current="page" class="sidebar-link">Step By Step Guide</a></li><li><a href="/bigbots/rest.html" aria-current="page" class="active sidebar-link">Step 1: Creating A Standalone REST Process</a></li><li><a href="/bigbots/gateway.html" class="sidebar-link">Step 2: Creating A Standalone Gateway Process</a></li><li><a href="/bigbots/cache.html" class="sidebar-link">Step 3: Standalone Cache Process</a></li><li><a href="/bigbots/events.html" class="sidebar-link">Step 4: Creating Standalone Event Handler</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Step By Step Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Advanced Guide</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="step-1-creating-a-standalone-rest-process"><a href="#step-1-creating-a-standalone-rest-process" class="header-anchor">#</a> Step 1: Creating A Standalone REST Process</h1> <p>The first thing we want to make is our standalone REST process. This process will be used by almost every other process, so it is going to be the foundation of the bot.</p> <p>Before, we dive into how, here is a quick summary of why you will want a standalone REST process.</p> <h2 id="why-use-standalone-rest-process"><a href="#why-use-standalone-rest-process" class="header-anchor">#</a> Why Use Standalone REST Process?</h2> <ul><li>Easily host on any serverless infrastructure.</li> <li>Freedom from global rate limit errors
<ul><li>As your bot grows, you want to handle global rate limits better. Shards
don't communicate fast enough to truly handle it properly so this allows 1
rest handler across the entire bot.</li> <li>In fact, you can host multiple instances of your bot and all connect to the
same rest server.</li></ul></li> <li>REST does not rest!
<ul><li>Separate rest means if your bot for whatever reason crashes, your requests
that are queued will still keep going and will not be lost.</li> <li>Seamless updates! When you want to update and reboot the bot, you could
potentially lose tons of messages or responses that are in queue. Using this
you could restart your bot without ever worrying about losing any responses.</li></ul></li> <li>Single source of contact to Discord API
<ul><li>This will allow you to make requests to discord from anywhere including a bot dashboard. You no longer need to have to communicate to your bot processes just to make a request or anything. Free up your bot process for processing bot events.</li></ul></li> <li>Scalability! Scalability! Scalability!</li></ul> <h2 id="preparations"><a href="#preparations" class="header-anchor">#</a> Preparations</h2> <p>Before going further, you should have already made the following pieces:</p> <ul><li>src/rest/mod.ts</li> <li>deps.ts (Make sure to import discordeno)</li> <li>configs.ts</li> <li>Deno extension(if you are using deno, this is required)</li> <li>TabNine extension to make your life so much better. (Optional)</li></ul> <h2 id="creating-rest-manager"><a href="#creating-rest-manager" class="header-anchor">#</a> Creating Rest Manager</h2> <p>Now let's open up that rest file and start coding.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">DISCORD_TOKEN</span><span class="token punctuation">,</span> <span class="token constant">REST_AUTHORIZATION</span><span class="token punctuation">,</span> <span class="token constant">REST_PORT</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../configs.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">BASE_URL</span><span class="token punctuation">,</span> createRestManager <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../deps.ts&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rest <span class="token operator">=</span> <span class="token function">createRestManager</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  token<span class="token operator">:</span> <span class="token constant">DISCORD_TOKEN</span><span class="token punctuation">,</span>
  secretKey<span class="token operator">:</span> <span class="token constant">REST_AUTHORIZATION</span><span class="token punctuation">,</span>
  customUrl<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://localhost:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">REST_PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>createRestManager</code> is imported from your deps file which should have exported everything from discordeno.</li> <li><code>DISCORD_TOKEN</code> is the bots token itself.</li> <li><code>REST_AUTHORIZATION</code> is a special password you want to use to authenticate that requests being sent to your port are indeed from you.</li> <li><code>customUrl</code> the url where this rest process will be running. This can be localhost which we are using in this guide if you want all processes on same VPS or separate them to different servers for horizontal scaling. <code>REST_PORT</code> is just the port where you want the process hosted.</li></ul> <p>Now you have an entire Rest manager ready and waiting. Only thing you need now, is to listen for requests.</p> <h2 id="creating-http-listener"><a href="#creating-http-listener" class="header-anchor">#</a> Creating HTTP Listener</h2> <p>Since this is not a beginner guide, I am assuming you know already how to create a HTTP listener. There are enough guides on this out there. I will only cover the rough functionality.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// START LISTENING TO THE URL(localhost)</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> Deno<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">{</span> port<span class="token operator">:</span> <span class="token constant">REST_PORT</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">HTTP webserver running.  Access it at:  http://localhost:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">REST_PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Connections to the server will be yielded up as an async iterable.</span>
<span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> conn <span class="token keyword">of</span> server<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// In order to not be blocking, we need to handle each connection individually</span>
  <span class="token comment">// in its own async function.</span>
  <span class="token function">handleRequest</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span>conn<span class="token operator">:</span> Deno<span class="token punctuation">.</span>Conn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// This &quot;upgrades&quot; a network connection into an HTTP connection.</span>
  <span class="token keyword">const</span> httpConn <span class="token operator">=</span> Deno<span class="token punctuation">.</span><span class="token function">serveHttp</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Each request sent over the HTTP connection will be yielded as an async</span>
  <span class="token comment">// iterator from the HTTP connection.</span>
  <span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> requestEvent <span class="token keyword">of</span> httpConn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      <span class="token operator">!</span><span class="token constant">REST_AUTHORIZATION</span> <span class="token operator">||</span>
      <span class="token constant">REST_AUTHORIZATION</span> <span class="token operator">!==</span> requestEvent<span class="token punctuation">.</span>request<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;AUTHORIZATION&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> requestEvent<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token string">&quot;Invalid authorization key.&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          status<span class="token operator">:</span> <span class="token number">401</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">await</span> requestEvent<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">;</span>

    <span class="token comment">// IMPLEMENT ANY ERROR HANDLING HERE IF YOU WOULD LIKE BY WRAPPING THIS IN A CATCH</span>

    <span class="token comment">// MAKE THE REQUEST TO DISCORD</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> rest<span class="token punctuation">.</span><span class="token function">runMethod</span><span class="token punctuation">(</span>
      rest<span class="token punctuation">,</span>
      <span class="token comment">// USE THE SAME METHOD THAT CAME IN. IF DELETE CAME IN WE SEND DELETE OUT</span>
      requestEvent<span class="token punctuation">.</span>request<span class="token punctuation">.</span>method <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
      <span class="token comment">// OVERWRITE THE CUSTOM URL WITH DISCORDS BASE URL</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">BASE_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/v</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rest<span class="token punctuation">.</span>version<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>requestEvent<span class="token punctuation">.</span>request<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>
        rest<span class="token punctuation">.</span>customUrl<span class="token punctuation">.</span>length
      <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      json
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// RETURN DISCORDS RESPONSE BACK TO THE PROCESS MAKING THE REQUEST</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      requestEvent<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          status<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      requestEvent<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          status<span class="token operator">:</span> <span class="token number">204</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/discordeno/guide/edit/main/src/bigbots/rest.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/1/2022, 3:04:18 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/bigbots/" class="prev router-link-active">
        Step By Step Guide
      </a></span> <span class="next"><a href="/bigbots/gateway.html">
        Step 2: Creating A Standalone Gateway Process
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.bc141364.js" defer></script><script src="/assets/js/2.92552348.js" defer></script><script src="/assets/js/20.efe9afa2.js" defer></script>
  </body>
</html>
