"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[8569],{3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return u}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var m=a.createContext({}),c=function(e){var n=a.useContext(m),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=c(e.components);return a.createElement(m.Provider,{value:n},e.children)},l={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},p=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,m=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(t),u=r,g=p["".concat(m,".").concat(u)]||p[u]||l[u]||o;return t?a.createElement(g,i(i({ref:n},d),{},{components:t})):a.createElement(g,i({ref:n},d))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=p;var s={};for(var m in n)hasOwnProperty.call(n,m)&&(s[m]=n[m]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=t[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},2051:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return m},metadata:function(){return c},toc:function(){return d},default:function(){return p}});var a=t(7462),r=t(3366),o=(t(7294),t(3905)),i=["components"],s={sidebar_position:2},m="Command Manager",c={unversionedId:"nodejs/CommandHandler/command-manager",id:"nodejs/CommandHandler/command-manager",title:"Command Manager",description:"Currently, you probably have something like this in your code:",source:"@site/docs/nodejs/CommandHandler/command-manager.md",sourceDirName:"nodejs/CommandHandler",slug:"/nodejs/CommandHandler/command-manager",permalink:"/docs/nodejs/CommandHandler/command-manager",editUrl:"https://github.com/discordeno/discordeno/tree/main/site/docs/nodejs/CommandHandler/command-manager.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Getting Started with the Command Manager",permalink:"/docs/nodejs/CommandHandler/getting-started"},next:{title:"Create Command",permalink:"/docs/nodejs/CommandHandler/create-command"}},d=[{value:"Handle Command",id:"handle-command",children:[{value:"Message Create Event:",id:"message-create-event",children:[],level:3},{value:"Interaction Create Event:",id:"interaction-create-event",children:[],level:3}],level:2}],l={toc:d};function p(e){var n=e.components,t=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"command-manager"},"Command Manager"),(0,o.kt)("p",null,"Currently, you probably have something like this in your code:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const Discord = require("discordeno");\n// Ideally you should move to an `.env` file\nconst config = require("./config.json");\n\nconst client = Discord.createBot({\n  events: {\n    messageCreate(client, message) {\n      if (message.content === "!ping") {\n        client.helpers.sendMessage(message.channelId, { content: "pong" });\n      }\n    },\n  },\n  intents: ["Guilds", "GuildMessages"],\n  token: config.token,\n});\n\nDiscord.startBot(client);\n')),(0,o.kt)("p",null,"Of course, if you add more and more commands and as your code base grows, you can lose track very quickly."),(0,o.kt)("p",null,"To avoid this, it is recommended to store the commands in separate folders divided into different categories."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/docs/nodejs/design"},"Previously, we introduced you to our plugin structure, which has a lot of advantages.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-root"},"\u251cPlugins/\n\u251c\u2500\u2500 General/\n\u2502   \u251c\u2500\u2500 commands/\n\u2502   \u2502   \u251c\u2500\u2500 ping.js\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 Developer/\n\u2502   \u251c\u2500\u2500 commands/\n\u2502   \u2502   \u251c\u2500\u2500 eval.js\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 ...\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Get ",(0,o.kt)("a",{parentName:"strong",href:"https://github.com/discordeno/discordeno/tree/main/template/nodejs/Managers/CommandManager.js"},"this file")," from\nthe ",(0,o.kt)("a",{parentName:"strong",href:"https://github.com/discordeno/discordeno/tree/main/template"},"nodejs template"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const CommandManager = require("./template/Managers/CommandManager.js");\nconst manager = new CommandManager({});\nmanager.load({ plugin: true }); // Load the commands\nclient.commands = manager;\n\nclient.commands.cache.get("ping"); // Get the `ping` command\n')),(0,o.kt)("p",null,"The Manager will automatically iterate through all files in the folder and then load them into the cache property, which\nis mapped on the command name."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Take a look at ",(0,o.kt)("a",{parentName:"strong",href:"/docs/nodejs/CommandHandler/create-command"},"Create Command")," to learn how to create a command.")),(0,o.kt)("h2",{id:"handle-command"},"Handle Command"),(0,o.kt)("p",null,"The manager also contains a handler for executing the command when a message is received."),(0,o.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Currently checks for permissions, cooldowns, and rate limits are not covered, but these will be added soon."))),(0,o.kt)("h3",{id:"message-create-event"},"Message Create Event:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = async (client, message) => {\n  client.commands.isCommand(message);\n};\n")),(0,o.kt)("h3",{id:"interaction-create-event"},"Interaction Create Event:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = async (client, interaction) => {\n  client.commands.isInteraction(interaction);\n};\n")),(0,o.kt)("p",null,"You can also customize the ",(0,o.kt)("inlineCode",{parentName:"p"},"isCommand")," function to your use case."))}p.isMDXComponent=!0}}]);